{% extends "base.html" %}
{% block content %}

<!DOCTYPE html>
<html>
<title>Submit Ticket</title>
<head>      
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">   
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"          crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o" crossorigin="anonymous"></script>
    <style>
            .ticket-body {
              width: 100%;
              max-width: 500px;
              margin: 0px auto;
              margin-top: 50px;
            }
            .row{
                width:100%;
            }

    </style>   
</head>

<body>
    <div class = "ticket-body">
        <p style="font-size:59px"><strong>Ticket Submission</strong></p>
        <form action="" method="post" enctype="multipart/form-data">
            {{form.hidden_tag()}}
            <div class="form-group">
                <label>Ticket Type</label>
              {{form.options(placeholder="--select--", class="form-control", id="options")}}
            </div>
            <div class="form-group">
                <label>Title</label>
                {{form.title(class="form-control", id="titlename", maxlength="100")}}
            </div>
            <div class="form-group">
                <label>Details</label>
                {{form.details(class="form-control", id="details", rows="10")}}
            </div>
            <div class="row">
                <div class="uploadFile col-md-2">
                    {{form.submit(class="btn btn-primary", align="left")}}
                </div>
                <div class="uploadFile col-md-5" style="margin-left: auto" id="fileclass">
                    {{form.file(class="custom-file-input", id="upload")}}
                    <label class="custom-file-label" id="filefield">Attach File</label>
                    <font size="0.5"><label class="form-text text-muted">* JPG, PNG</label></font>
                </div>
            </div>

        </form>
    </div>
</body>

<script>
    var filefield = document.getElementById('filefield')
    var fileclass = document.getElementById('fileclass')
    var upload = document.getElementById("upload")
    var x = document.getElementsByClassName("custom-file-input")[2];
    upload.addEventListener("change", function(){
        var name = fileclass.children[0].value
        name = name.split('\\')
        name = name[name.length-1]
        filefield.innerHTML = name;
    })
</script>
</html>

{% endblock %}
